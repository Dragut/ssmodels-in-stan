---
title: "State Space Models in Stan"
author: "Jeffrey B. Arnold"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
bibliography: ["ssmodels-in-stan.bib", packages.bib]
biblio-style: apalike
link-citations: yes
github-repo: rstudio/bookdown-demo
description: "Documentation for State Space Models in Stan."
---

# Introduction

This contains documentation for "State Space Models in Stan"

```{r include=FALSE}
suppressPackageStartupMessages({
  library("ggplot2")
  library("rstan")
  library("dplyr")
  library("lubridate")
})

# Convert ts object to dates assuming that it has start and end years
ts_to_date <- function(x) {
  f <- frequency(x)
  tx <- as.numeric(time(x))
  yr <- ymd(paste(floor(tx), "01", "01"))  
  if (f == 12) {
    dates <- yr %m+% months(round((tx %% 1) * 12))
  } else if (f == 4) {
    dates <- yr %m+% months(round((tx %% 1) * 4 * 3))
  } else if (f == 1) {
    dates <- yr
  } else {
    daze <- tx %% 1 * (365 + leap_year(yr))
    dates <- yr + days(daze)
  }
  dates
}
```


